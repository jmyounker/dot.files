#!/bin/bash

if [ $# -eq 0 ]; then
   cat <<EOUSAGE
options include:
   down - git pull
   pom - git pull origin master
   pm - git pull origin master
   slave - create branch from master ala soundcloud
   t - tig status
   up - git push
 
EOUSAGE
    exit 127
fi

cmd=$1
shift
case $cmd in
  start)
    if [ $# -ne 1 ]; then
      echo "usage: $0 NEW_BRANCH_NAME"
      return 127
    fi
    git checkout master
    git pull origin master
    git branch $1
    git checkout $1
    git pull origin master
    ;;

  t)
    which tig 1>/dev/null 2>&1
    if [ $? -eq 0 ]; then
        tig status
    else
        git status
    fi
    ;;

  pm|pom)
    git pull origin master
    ;;

  down)
    git pull
    ;;

  up)
    git push
    ;;

  *)
    git $cmd "$@"
    ;;
esac
  
   
